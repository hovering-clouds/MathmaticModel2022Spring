# 三进制探究

## 摘要

当今时代，基于二进制的计算机，早已在人类生产生活各个方面发挥着重要作用。然而，历史上确实曾经出现过其它进制的计算机，比如苏联研制的三进制计算机Сетунь.时至今日，随着一些新的计算方法的提出，非二进制在逐渐显现它们的应用价值。在本文中，我尝试将课堂上探讨的布尔函数相关性质向三进制甚至更高进制推广，为三进制计算中可能的应用积累一点理论的火花。

## 1.引言

> 在这一节，我将简要介绍选题动机，然后从总览的角度概述接下来几节中我们想要探究的问题，以及相关的结论。

为何会想到这个题目呢？首要原因自然是，在我们的课堂中，有相当一部分篇幅涉及的是布尔函数。在第一节课时，我就注意到邵老师的研究方向有涉及计算机理论，而且听说这个学期会涉及到不少TCS方面的知识，这对于“老本行”是计算机科学的我，自然是十分感兴趣的。在前期思考课程论文选题时，我就在考虑要不要找一个和计算机相关的题目。最后在学习到布尔函数后的某一天午饭时，我灵感突现，决定要探究三进制的有关性质。

在接下来的几节中，我将从三进制计算的应用与理论探究两方面进行阐述，重点自然在于后者。其中第二节分析了非二进制计算的发展前景以及与传统二进制的比较，涉及的主要是应用层面；第三节探究了三进函数的定义域（我们将它称作三进制空间）以及它的一些性质；在此基础上，我们在第四节开始研究三进函数本身的性质。这两节的很多内容都推广于课堂，但不乏许多新鲜有趣的想法。第五节是总结部分，我们将总结论证过程中涌现的数学思想以及方法，并且对有待进一步研究之处进行展望。最后是后记，在此处讲讲此文写作背后的故事。此外，由于本文涉及的内容较多，为了行文的简洁性以及可读性，我在一些小节前面添加了用底色区分出的导引词，并且将某些繁杂的证明以及探究思路放在了附带的一篇附录中，供有兴趣的读者查看。

## 2. 非二进制计算

> 在这一节中，我们简单探讨一下不同进制计算的实现与应用，以及三进制与二进制的比较

谈到不同进制，一个问题自然而然浮现了：不同的进制之间有什么区别？显然，不同进制在表达数字的能力方面是相同的，比如不管我们使用什么进制，所有自然数都可以有唯一的表示形式：$n=a_np^n+\dots+a_1p+a_0$.（以p进制为例）

事实上，在数字的表示方面，不同进制之间本质的差别是使用的符号集大小。在二进制中，我们通常使用符号集$\set{0,1}$，在三进制中，我们常用的符号集有$\set{0,1,2},\set{T,0,1}$，前者是模3运算的自然形式，后者则用T表示-1，在运算时也有很多好的性质。一般的，在p进制中，我们需要使用大小为p的符号集来表示所有数字。

如何理解符号集呢？在很多时候，我们用具体的数字作为符号构成符号集，但这并不是必要的。在物理实现不同进制时，不同的符号无非是代表不同的“状态”，例如在二进制计算机中，我们用低电平和高电平两种状态表示0,1。因此，只要我们能找到一些稳定的，同时又能够相互转换的“状态”，那么我们就能实现更多的进制。以下简单以三进制和四进制为例，讨论它们的可能应用前景。

### 三进制

如何在物理世界中表征三种不同的状态？苏联的三进制计算机Сетунь使用的方法是正电压(1)、零电压(0)和负电压(-1).这种方法有一个不足之处，那就是使用三种电压表示三种状态，不仅对电压数值有更高的要求，而且在电路控制、误码率等工程角度面临着挑战。

时至今日，随着量子信息科学的发展，我们有了一种更为自然的三进制表达方法，也即量子三进制位(qutrit). 与我们通常了解的二进制的量子比特(qubit)不同，qutrit由三种相互正交的基本状态叠加而成，即$\{|0\rangle ,|1\rangle ,|2\rangle \}$，在此基础上，人们将量子比特张成的二维希尔伯特空间$H_2$扩充成了三维的$H_3$，在此基础上提出了一些新的计算模型。在具体实现方面，某些三级量子系统(three-level quantum system)可以用来实现这种三进制的量子位模型。[[参见Qutrit - Wikipedia]](https://en.wikipedia.org/wiki/Qutrit)

### 四进制

如何表示四进制所需的四个符号？我们不妨把目光投向生物科学领域。我们注意到，承载遗传信息的DNA分子是由四种碱基不同的脱氧核糖核苷酸连接而成的，因此，这四种碱基（AGCT）可以作为我们的符号集。而如何操纵这些符号呢？生物体中发现的各种核酸酶以及一些非生物的标记物质可以为我们提供有力的工具。

事实上，DNA计算作为一门新领域，已经有不少研究人员在其中耕耘。最早提出DNA计算概念的科学家是图灵奖得主Adleman，他利用碱基互补配对原理建立了一个计算模型，成功计算出一个七顶点哈密顿回路问题。进入21世纪后，随着一些与DNA分子性质相关问题的解决，电路信号传播得以实现，科学家们真正设计出了DNA逻辑电路，为DNA通用计算打下了基础。[参考资料：DNA计算简单科普](https://zhuanlan.zhihu.com/p/63642363#)

### 比较

二进制计算，至今已经发展出了一套成熟的理论体系，那么为什么还需要费心研究其它计算方式呢？老子的“无用之用”哲学，固然可以给自己提供一些安慰，但想要说服旁人，也许还得拿出它们具体的优势才行。比如，我们考虑如下存储效率问题：[参考资料：《C++程序设计精要教程》]

> 问题：假设我们需要存储0~M-1的整数，那么不同的编码方式的效率如何？
>
> 分析：首先，我们需要具体量化“效率”。我们不妨用实现这样一个存储器的造价来进行量化。假设一个元件可以表示一个k-进制位的k种不同状态，显然最终造价正比于使用的元件数目。但是另一方面，状态更多的元件，因为工艺流程更加复杂，单位造价应该更高。我们不妨简单假设元件的单位造价与它的状态数目成正比。那么，在这样的模型下，能够表示M个整数的存储器造价可以相应地量化。
>
> 需要元件数目：$\log_kM$
>
> 单位造价：k
>
> 总价：$f(k)=k\log_kM$
>
> 接下来我们考察$f(k)$是否有最优值，注意到$f(k)=k\frac{\ln M}{\ln k}$，其中$\ln M$是常数。我们利用微积分的知识不难得到，当$k=e$时，$f(k)$有最小值$e\ln M$，因此使用"e进制"是最优的。但物理世界中似乎没有什么"e进制"，注意到$\frac{\ln2}2\approx0.347,\frac{\ln3}3\approx0.366$，因此在这种量化模型下，三进制有微弱优势。

当然关于计算效率，还有许多其它方面可以考察，此处就不一一赘述了。

## 3.三进制空间

> 这一节，我们类比n位二进制数构成的集合$Q^n$,给出具有相似结构的n位三进制数构成的集合$T^n$，并将其称为n维三进制空间.

### 定义

**定义1：（n维k-进制空间）**

设$\mathbb Z_k$是整数模k的环，$\mathbb{Z}_k^n:=\set{(x_1,x_2,\dots,x_n)|x_i\in\mathbb{Z}_k}$是n次直积。定义n维k-进制空间$T_{k,n}$是$\mathbb Z_k^n$按照每个点的坐标画在在$\mathbb R^n$上构成的图，其中**图中所示边上的所有点两两之间都连有一条边**。

**定义2：（积图）**

设$G_1=<V_1,E_1>,G_2=<V_2,E_2>$是无向图，定义积图$G_1\times G_2:=<V_1\times V_2,E>$，边集$E=\set{(<u_i,u_j>,<u_k,u_s>)}$，其中$<u_i,u_j>,<u_k,u_s> \in V_1\times V_2$ 当且仅当它们有一个分量相同，另一个分量在原来的图中相邻.

k=2,3时的1,2,3维k-进制空间示意图如下：

<img src="figure/Q1-3.svg" alt="k=2" style="zoom:80%;" />

<img src="figure/T1-3.svg" alt="k=3" style="zoom:80%;" />

以下用$T^n$简记$T_{3,n}$，即三进制空间。

很容易看出，$Q^n=(Q^1)^n$，$T^n=(T^1)^n$，n次幂表示进行n次积图运算.

直观上看，在三进制空间上，两个点相邻$\iff$它们在$T^n$的同一条线段上.

### 图论性质

我们简单列举$Q^n$和$T^n$作为图的性质如下：

1. $Q^n$有$2^n$个顶点；$T^n$有$3^n$个顶点；

2. $Q^n$的每个顶点的度都是n；$T^n$的每个顶点的度都是2n；

3. $Q^n$和$T^n$都是哈密顿图；

   > 证明：我们证明$Q^n$，$T^n$的情况同理：
   >
   > 原命题等价于，在$\{0,1\}^n$上找到一种方法，从原点开始不重复地遍历所有向量，最终回到原点，要求每次只能翻转一个二进制位。
   >
   > n=2时：$(0,0)\rightarrow(0,1)\rightarrow(1,1)\rightarrow(1,0)\rightarrow(0,0)$；
   >
   > 假设n=k时存在一种遍历方式$L:=\vec0\rightarrow \vec x_1\dots\rightarrow \vec x_{2^k-1}\rightarrow \vec0$，n=k+1时，去掉$L$尾部的原点，在每一个向量最前面加一个分量0，得到链$L':(0,\vec 0)\rightarrow(0,\vec x_{1})\dots\rightarrow(0,\vec x_{2^k-1})$，接下来在前面加上分量1并且倒着走：$\rightarrow(1,\vec x_{2^k-1})\rightarrow(1,\vec x_{2^k-2})\dots\rightarrow(1,\vec0)\rightarrow(0,\vec0)$.可见也存在满足条件的遍历方式。
   >
   > 综上，命题成立。

### 邻接矩阵

首先简单列举课堂上已谈过的$Q^n$邻接矩阵性质：

> 性质1：记$Q^n$的邻接矩阵为$A_n$，则有如下递推式：
> $$
> A_1=
> \begin{bmatrix}
> 0 & 1\\
> 1 & 0
> \end{bmatrix},
> A_{n+1}=
> \begin{bmatrix}
> A_n & I\\
> I & A_n
> \end{bmatrix}
> $$
> 计算可得，$A_n$特征值为$-n,-n+1,\dots,-1,0,1,\dots,n-1,n$，其中从左往右的重数依次为$C_{2n}^0,C_{2n}^1,\ldots,C_{2n}^{2n}$.
>

类似地，$T^n$的邻接矩阵记为$B_n$，则有如下递推式：
$$
B_1=
\begin{bmatrix}
0 & 1 & 1\\
1 & 0 & 1\\
1 & 1 & 0
\end{bmatrix},
B_{n+1}=
\begin{bmatrix}
B_n & I & I\\
I & B_n & I\\
I & I & B_n
\end{bmatrix}
$$
$B_1$的特征多项式为$f_1(\lambda)=\det{(\lambda I-B_1)}=(\lambda-2)(\lambda+1)^2$

考察特征多项式的递推式：$f_{n+1}(\lambda)=\det{(\lambda I-B_{n+1})}$，计算如下：
$$
\begin{aligned}

\begin{vmatrix}
\lambda I-B_n & -I & -I\\
-I & \lambda I-B_n & -I\\
-I & -I & \lambda I-B_n\\
\end{vmatrix} 
&\Rightarrow 

\begin{vmatrix}
(\lambda-2) I-B_n & (\lambda-2) I-B_n & (\lambda-2) I-B_n\\
-I & \lambda I-B_n & -I\\
-I & -I & \lambda I-B_n\\
\end{vmatrix}
\\ &\Rightarrow

\begin{vmatrix}
(\lambda-2) I-B_n
\end{vmatrix}
\begin{vmatrix}
I & I & I\\
-I & \lambda I-B_n & -I\\
-I & -I & \lambda I-B_n\\
\end{vmatrix}
\\ &\Rightarrow

f_n(\lambda-2)
\begin{vmatrix}
I & I & I\\
0 & (\lambda+1) I-B_n & 0\\
0 & 0 & (\lambda+1) I-B_n\\
\end{vmatrix}
\\ &\Rightarrow

f_n(\lambda-2)f_n^2(\lambda+1)
\end{aligned}
$$
可见，$f_{n+1}(\lambda)$的根为$f_n(\lambda)$的根加2或者减1（重数为2），由此可见，$f_n(\lambda)$的所有特征值为下表的第n行：
$$
\begin{array}{ccc}
&&&-1&&2&&& \\
&&-2&&1&&4&& \\
&-3&&0&&3&&6& \\
...&&...&&...&&...&&...\\
\end{array}
$$
设从上往下向左（减1）次数为j，向右（加2）次数为n-j，则对应特征值为2n-3j，因此所有特征值为：$\set{2n-3j|1\leq j\leq n}$，使用杨辉/帕斯卡三角形类似方法，可以计算出2n-3j重数为$(2+x)^j$展开式的j次项系数，也即 $C_n^j2^j$.

不难将上述结论进一步推广到其它进制：

**命题1：**对于n维k-进制空间，它的邻接矩阵可如下定义：
$$
C_1=
\begin{bmatrix}
0 & 1 & 1 & \ldots & 1\\
1 & 0 & 1 & \ldots & 1\\
\vdots & \vdots & \vdots & \ddots & \vdots\\
1 & 1 & 1 & \ldots & 0\\
\end{bmatrix}_{k\times k}
$$

$$
C_{n+1}=
\begin{bmatrix}
C_n & I & I & \ldots & I\\
I & C_n & I & \ldots & I\\
\vdots & \vdots & \vdots & \ddots & \vdots\\
I & I & I & \ldots & C_n\\
\end{bmatrix}_{k^{n+1}\times k^{n+1}}
$$

可以求得$C_1$的特征多项式为$f_1(\lambda)=(\lambda+1)^{k-1}(\lambda-k+1)$，特征值递推式为$\lambda_n=\lambda_{n-1}-1$或$\lambda_{n-1}+k-1$.类似可以得到所有特征值为：$\set{(k-1)n-kj|1\leq j\leq n}.$

### 推广符号图及其邻接矩阵

在课堂上，为了证明敏感度猜想中关于$s(f)$的不等式，我们曾经放宽了邻接矩阵元素全为01的要求，通过定义符号图及其邻接矩阵（允许将部分1改为-1），引入了$\tilde A_n$，构造如下：
$$
\tilde A_1=
\begin{bmatrix}
0 & 1\\
1 & 0
\end{bmatrix},
\tilde A_{n+1}=
\begin{bmatrix}
\tilde A_n & I\\
I & -\tilde A_n
\end{bmatrix}
$$
这样的矩阵的特征值有着更好的性质：**它们集中分布在邻接矩阵谱的两端**，这样有利于后面利用柯西交错定理（Cauchy Interlacing Theorem）来控制子图邻接矩阵的特征值。

对于三进制空间$T^n$的邻接矩阵$B_n$，我们也想要通过**放宽对矩阵元素的要求**，找到一个类似的$\tilde B_n$，使得它的特征值有类似$\tilde A_n$的特征值分布。

通过一系列探究过程，我们最终得到了以下结果：(为了论文的简洁性，具体探究过程参见附录)

如何放宽对矩阵元素的要求呢？为此，我们给出如下定义：

**定义1：（推广的符号图）**

k-符号图$\tilde G=<G,\sigma>$是由底图（一个无符号简单图）$G=<V,E>$和一个符号函数$\sigma:E\rightarrow\set{1,\zeta,\dots,\zeta^{k-1}}$构成，并且定义$\tilde G$的邻接矩阵为$\tilde E=(a_{ij})_{n\times n}$，满足：
$$
a_{ij}=\begin{cases}
0 & \text{if } e_{ij}\not\in E,\\
\sigma(e_{ij})& \text{if } e_{ij}\in E.\\
\end{cases}
$$
其中$\zeta$是一个k次本原单位根。

**命题1：**存在以n维三进制空间$T^n$为底图的3-符号图，其邻接矩阵记作$\hat B_n$，它的所有特征值为$\set{\omega\sqrt[3]{2n},\omega^2\sqrt[3]{2n},\sqrt[3]{2n}}$，其中$\omega$是一个三次本原单位根，并且每个特征值的重数均为$3^{n-1}$.

证明：令
$$
B_1=\begin{bmatrix}
0 & 1 & 1 \\
1 & 0 & \omega \\
\omega^2 & 1 & 0 \\
\end{bmatrix},
\hat B_{n+1}=
\begin{bmatrix}
\hat B_n & I & I\\
I & \omega\hat B_n & \omega I\\
\omega^2 I & I & \omega^2\hat B_n
\end{bmatrix}
$$
计算特征多项式为：
$$
\begin{aligned}
|\lambda I-\hat B_{n+1}|&=
\begin{vmatrix}
\lambda I-\hat B_n & -I & -I\\
-I & \lambda I-\omega\hat B_n & -\omega I\\
-\omega^2I & -I & \lambda I-\omega^2\hat B_n
\end{vmatrix}\\ \\
&=\abs{(\lambda^3-2)I-\hat B_n^3}
\end{aligned}
$$
得到了特征值递推式$\lambda_n^3+2=\lambda_{n-1}^3.$不难发现，$\hat B_1$的三个特征值为$\set{\omega\sqrt[3]{2},\omega^2\sqrt[3]{2},\sqrt[3]{2}}$，再利用数学归纳法容易证得原命题。

### 进一步推广

对于一般的k-进制图，是否还有上面的命题成立？也即如下猜想：

**猜想1：**（特征值k值分布猜想）

存在以$T_{k,n}$作为底图的k-符号图$\tilde G_n$，其邻接矩阵$\tilde C_n$的所有特征值为$\set{c_n,c_n\zeta,\dots,c_n\zeta^{k-1}}$，其中$\zeta$是一个k次本原单位根，$c_n$是一个与n有关的常数，并且每个特征值的重数均为$k^{n-1}$.

对于这一猜想，我们很难通过观察$\tilde A_n,\hat B_n$的规律构造矩阵——它们无一例外在$n=4$时就失败了。不过，在计算的过程中，我们发现$\tilde A_n$和$\hat B_n$有如下有趣的性质：
$$
\tilde A_{n+1}^2=
\begin{bmatrix}
\tilde A_n & I\\
I & -\tilde A_n
\end{bmatrix}^2
=
\begin{bmatrix}
\tilde A_n^2+I & 0\\
0 & \tilde A_n^2+I
\end{bmatrix}
$$

$$
\begin{aligned}
\hat B_{n+1}^3=
\begin{bmatrix}
\hat B_n & I & I\\
I & \omega\hat B_n & \omega I\\
\omega^2 I & I & \omega^2\hat B_n
\end{bmatrix}^3
=\begin{bmatrix}
\hat B_n^3+2I & 0 & 0\\
0 & \hat B_n^3+2I & 0\\
0 & 0 & \hat B_n^3+2I
\end{bmatrix}
\end{aligned}
$$

由数学归纳法可知$\tilde A_n^2=nI,\hat B_n^3=2nI$，因此$\tilde A_n$是$nI$的一个平方根，$\hat B_n$是$2nI$的一个立方根.受此启发，我们提出下面的猜想：

**猜想2：**（数量矩阵k次根猜想）

存在同猜想1定义的$\set{\tilde C_{n}}$，满足$\tilde C_n^k$是数量矩阵.

不难发现，如果猜想1成立，则$\tilde C_n^k$的特征值都是$c_n^k$，可见$\tilde C_n^k=c_n^kI$. 反之，若$\tilde C_n^k=c_n^kI$，显然可以得到$\tilde C_n$的特征值$\in\set{c_n\zeta^i|0\le i<k}$，倘若$\tilde C_n$再有某些对称性（比如分块迹为0矩阵)，我们不难推出这些特征值重数相等。因此可以认为，猜想2几乎与猜想1等价。

在经过大量计算后，尽管上述两个猜想没能证明，我们还是发现了一类具有类似但是较弱性质的矩阵，总结为下面的猜想： 

**猜想3：**（**分块**数量矩阵k次根猜想）

存在同猜想1定义的$\set{\tilde C_{n}}$，满足$\tilde C_n^k$是对角块相同的k-阶分块对角矩阵.其中，每个对角块是关于$\tilde C_{n-1}$的多项式$f(\tilde C_{n-1}).$

具体构造及证明参见附录，这里只是简单介绍一下证明的思想：我们将某数域嵌入一个特殊的矩阵环中，类比域扩张理论，利用一组环同构给出了一个有趣的证明。

我们不难发现，如果猜想3中满足$f(\tilde C_{n-1})=\tilde C_{n-1}^k+c,c$为常数，那么同样由数学归纳法得到猜想2成立。因此猜想2可看作猜想3的特殊情况。

## 4.三进函数

> 类似布尔函数，我们将定义在三进制空间上的函数称为三进函数。不难发现，实现三进制计算，本质上就是实现三进函数。为此，在这一节中，我们将按照特殊到一般的顺序，首先考虑某些特殊的三进函数，考察它们与$T^n$结合起来形成的的代数结构；之后考虑更一般的三进函数，探讨实现它们的可能性。

### 一元三进函数

我们记一元三进函数$f:x\longmapsto y$，显然一共有27种，具体列举如下：

| 输入 | $f_1$ | $f_2$ | $f_3$ | $f_4$ | $f_5$ | $f_6$ | $f_7$ | $f_8$ | $f_9$ |
| ---- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- |
| -1   | -1    | 0     | 1     | -1    | 0     | 1     | -1    | 0     | 1     |
| 0    | -1    | -1    | -1    | 0     | 0     | 0     | 1     | 1     | 1     |
| 1    | -1    | -1    | -1    | -1    | -1    | -1    | -1    | -1    | -1    |

| 输入 | $f_{10}$ | $f_{11}$ | $f_{12}$ | $f_{13}$ | $f_{14}$ | $f_{15}$ | $f_{16}$ | $f_{17}$ | $f_{18}$ |
| ---- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- |
| -1   | -1       | 0        | 1        | -1       | 0        | 1        | -1       | 0        | 1        |
| 0    | -1       | -1       | -1       | 0        | 0        | 0        | 1        | 1        | 1        |
| 1    | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

| 输入 | $f_{19}$ | $f_{20}$ | $f_{21}$ | $f_{22}$ | $f_{23}$ | $f_{24}$ | $f_{25}$ | $f_{26}$ | $f_{27}$ |
| ---- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- |
| -1   | -1       | 0        | 1        | -1       | 0        | 1        | -1       | 0        | 1        |
| 0    | -1       | -1       | -1       | 0        | 0        | 0        | 1        | 1        | 1        |
| 1    | 1        | 1        | 1        | 1        | 1        | 1        | 1        | 1        | 1        |

这些函数按照映射的复合运算构成幺半群$E_1$，其中可逆的函数有6个：$f_6,f_8,f_{12},f_{16},f_{20},f_{22}$，它们构成$T=\set{-1,0,1}$上的置换群。下面我们研究以上函数可以由怎样的生成元在函数复合运算下生成。

我们考虑如下特殊的一元三进函数，它们的特点正如名字所示：

|      | ID   | PLUS1 | NEG  | ZERO | ABS  |
| ---- | ---- | ----- | ---- | ---- | ---- |
| -1   | -1   | 0     | 1    | 0    | 1    |
| 0    | 0    | 1     | 0    | 0    | 0    |
| 1    | 1    | -1    | -1   | 0    | 1    |

**命题1：**所有可逆一元三进函数可以由ID，PLUS1与NEG生成。

> 解释：此即三阶对称群$S_3$，显然需要至少两个非ID的生成元

**命题2：**所有一元三进函数可以由ID，PLUS1、NEG、ZERO、ABS生成。

> 解释：事实上三进函数按照值域S的大小可以分为1,2,3三类，其中$|S|=3$时即为可逆映射，$|S|=2$时可以由ABS和可逆置换复合而成，$|S|=1$可由ZERO和可逆置换复合而成。

**命题3：**所有一元三进函数可以由ID，PLUS1、NEG、ABS生成。

> 解释：只需要说明ZERO可由其它几种生成即可。
>
> 易验证：ZERO=PLUS1$\circ$PLUS1$\circ$ABS$\circ$PLUS1$\circ$ABS，其中函数复合从右往左运算
>
> 对上式的解释：T中任何一个数，先取绝对值再加1再取绝对值再加2，最后结果一定是0

推论：在电路中实现所有一元三进函数，只需要实现以上四种（实际上恒等映射不需要额外实现）函数即可。

### 二元三进函数

我们记二元三进函数$f:(x,y)\longmapsto z$，显然一共有$3^9$种，难以一一列举，我们也希望探究如果想要通过二元函数与一元函数的复合生成所有二元三进函数，需要提供哪些二元函数。

我们将二元三进函数编码为9位三进制串，做法是将$f$在$(-1,-1)$$(-1,0)$$(-1,1)$$(0,-1)$$(0,0)$$(0,1)$$(1,-1)$$(1,0)$$(1,1)$九个点上的取值从左往右依次排列成一串，或者从左往右从上到下排成$3\times3$矩阵；

**命题4：**在二元三进函数的两个输入上复合可逆置换，则生成三进函数的编码矩阵的行/列会进行相应置换

**命题5：**给定所有值域大小为3的二元三进函数$\set{f_i}$，则值域更小的三进函数总可以通过在某个$f_i$的输出上复合一元三进函数得到。

> 例：假设某个二元函数的串为000111000，那么我们可以通过函数000111-1-1-1复合一个只把-1变成0，其余数保持不变的一元函数得到前者

通过命题3，我们已经得到，任何两个可以通过行列置换变换得到的$3\times3$矩阵，对应的二元函数都可以通过复合一元可逆置换得到，再结合命题4，我们只需考虑所有满射。综上所述，我们可以仅仅考虑对定义域$T^2$进行三染色的不同染色方法，其中可以通过行列交换得到的着色方式视作等价。这样产生的等价类的代表元素组成的集合就可以作为二元三进函数的一个生成集合。但是进一步简化生成元似乎比较困难了，有待日后探索。

### 特殊的二元三进函数

> 上一小节中，我们试图对二元三进函数进行统一的刻画，但并非所有二元三进函数都对我们有同样的研究意义。计算机的功能的实现，往往依赖于两种运算：代数运算与逻辑运算。前者用于进行基本的数字运算，后者用来控制程序执行的分支与循环逻辑。下面我们从这两个角度，对$T^n$引入运算，并且简单探究生成的代数结构的性质。

#### 代数运算

我们引入$\bmod3$的加法与乘法运算，易见此时$T=\set{-1,0,1}$在这两种运算下构成交换环（也是域）：

| $+$  |  -1  |  0   |  1   |
| :--: | :--: | :--: | :--: |
|  -1  |  1   |  -1  |  0   |
|  0   |  -1  |  0   |  1   |
|  1   |  0   |  1   |  -1  |

| $\times$ |  -1  |  0   |  1   |
| :------: | :--: | :--: | :--: |
|    -1    |  1   |  0   |  -1  |
|    0     |  0   |  0   |  0   |
|    1     |  -1  |  0   |  1   |

由环的定义，其中每个元素存在负元，因此我们不妨再加上一元三进函数NEG：

| NEG  |      |
| :--: | :--: |
|  -1  |  1   |
|  0   |  0   |
|  1   |  -1  |

我们很容易通过环直积，将上述代数运算扩充到$T_n=\set{-1,0,1}^n$上去，具体过程略

由于环与域的代数结构是我们比较熟悉的结果，此处不再赘述。

#### 逻辑运算

> 本小节目标：类似于二值bool运算，引入三值逻辑运算，使得这些运算在逻辑和数学上都有合理的含义。在此基础上，类似于格和布尔代数，进一步研究三元集T在这样的运算上的代数结构。

1.==类比布尔代数的导出==

我们可以从格的定义中得到一些启发：

> 定义：（格的偏序集定义）
>
> 设$<S,\preccurlyeq>$是偏序集，满足S的任何二元子集$\{a,b\}$都有最大下界（记作$a\and b$）和最小上界（记作$a\lor b$），将这两种运算导出的代数系统$<S,\land,\lor>$称为格.

很容易发现，我们令$S=\{-1,0,1\}$，按照数字的 $\leq$ 关系构成偏序集，并且按照如上定义运算$\land,\lor$，也即：

> 定义：在$S=\{-1,0,1\}$中定义运算如下：
>
> $a\and b:=\min\{a,b\}$
>
> $a\or b:=\max\{a,b\}$

显然这样定义的运算导出了格$<S,\and,\or>$

2.==类比01逻辑运算==

我们也可以从逻辑演算的角度尝试导出三元集$S$上的逻辑运算：

我们不妨记$T$表示假，$0$表示不确定，$1$表示真，我们尝试导出类似于01真值运算中的**AND**和**OR**（以下也记作**&**和**|**）

> 定义：[(Kleene and Priest logics)](https://en.wikipedia.org/wiki/Three-valued_logic)
>
> 我们任意考虑两个元素$a,b\in S=\{T,0,1\}$，在$a,b$不涉及不确定时，合理的运算结果应当与通常的二值逻辑运算相同。所以我们考虑如何合理地定义有“不确定”参与运算时的结果：
>
> 由于T&T=T，T&1=T，因此只要&有一个运算数是T，无论另一个的真假，结果都是T，因此合理认为T&0=T；
>
> 另一方面，1&T=T，1&1=1，所以&有一个运算数是1时，结果依赖于另一个到底是真还是假，因此倘若第二个操作数不确定（也即可真可假），结果也可真可假，故我们认为1&0=0；
>
> 最后，显然0&0=0；
>
> 显然合理的逻辑AND运算应该满足交换律，所以通过以上分析我们就定义好了三元集上的AND运算的运算表了。
>
> 使用类似的分析，我们也可以得到OR的运算规则，简要列举几式如下：
>
> T|0=0，0|0=0，1|0=1

3.==运算规则总结==

我们惊奇地发现，从上面两种角度定义得到的运算有着相同的运算规则。以后若无特殊说明，我们统一把它们记作$\and$和$\or$.具体而言：

> $\and \leftarrow\min,$AND
>
> $\or \leftarrow\max,$OR

运算表如下：

| $\and$ |             T              |             0              |                 1                 |
| :----: | :------------------------: | :------------------------: | :-------------------------------: |
|   T    | <font color='red'>T</font> | <font color='red'>T</font> |    <font color='red'>T</font>     |
|   0    | <font color='red'>T</font> |             0              |                 0                 |
|   1    | <font color='red'>T</font> |             0              | <font color='Lightgreen'>1</font> |

| $\or$ |                 T                 |                 0                 |                 1                 |
| :---: | :-------------------------------: | :-------------------------------: | :-------------------------------: |
|   T   |    <font color='red'>T</font>     |                 0                 | <font color='Lightgreen'>1</font> |
|   0   |                 0                 |                 0                 | <font color='Lightgreen'>1</font> |
|   1   | <font color='Lightgreen'>1</font> | <font color='Lightgreen'>1</font> | <font color='Lightgreen'>1</font> |

当然，与二值逻辑运算相照应，我们可以很容易扩充非运算（$\lnot$）：

| $\lnot$ | result |
| :-----: | :----: |
|    T    |   1    |
|    0    |   0    |
|    1    |   T    |

可以发现，在数字运算角度，$\lnot$就是取相反数NEG；从逻辑运算角度，$\lnot$在二值逻辑的基础上，添加了规则$\lnot 0=0$（也很符合直觉）

上述运算很容易由代数系统的直积运算，推广到$T_n=\set{-1,0,1}^n$上去。

4.==代数结构探究==

我们希望类比格，研究带有上述运算的三元集$T$是否有类似的运算性质。

当然，由布尔代数的定理，有限布尔代数的运算数集合大小一定是$2^n$，因此这样的代数结构应该不是布尔代数

首先探究对于$\and,\or$，常见的运算律是否满足。因为上面两种思考角度得到的运算规则是相同的，而我们较为熟悉的运算是$\max$和$\min$，因此我们从数字运算的角度来思考运算律，应当较为直观方便。（不采用三值逻辑运算的角度导出运算律，因为0还是有些不便处理）

**1.交换律**

显然，二元运算$\max$,$\min$均满足交换律

**2.结合律**

显然，二元运算$\max$,$\min$均满足交换律

**3.吸收律**

讨论a,b的相对大小可得，在$\mathbb R$上成立：

$\max\{a,\min\{a,b\}\}=a$

$\min\{a,\max\{a,b\}\}=a$

因此在三元集$S$上，成立吸收律

**4.分配律**

由上面运算律1~3，我们可以得到代数结构$<S,\min,\max>$是一个格。(且$\preccurlyeq$是S上的（逆）良序故导出完备格)

由格的性质，成立以下**分配不等式**：
$$
\tag{1}\max\{a,min\{b,c\}\}\geq\max\{\min\{a,b\},\min\{a,c\}\}
$$

$$
\min\{a,max\{b,c\}\}\leq\min\{\max\{a,b\},\max\{a,c\}\}\tag{2}
$$

那么**分配律**，也即上面的等号是否成立呢？很遗憾并非如此，反例如下：

在式(1)中，我们令$a=1,b=c=0$，则左边等于1，右边等于0；

在式(2)中，我们令$a=1,b=c=0$，则左边等于0，右边等于1；

**5.De Morgan律**

$\lnot(a\and b)=\lnot a\or\lnot b$，或者在我们的语境下：$-\min\{a,b\}=\max\{-a,-b\}$

$\lnot(a\or b)=\lnot a\and\lnot b$，或者在我们的语境下：$-\max\{a,b\}=\min\{-a,-b\}$

显然由$\min,\max$的性质，De Morgan律成立

**6.单位元，零元**

$\max$的单位元是-1，零元是1

$\min$的单位元是1，零元是-1

### 多元三进函数

> 类似多元布尔函数的布尔分解与热尔加金分解，我们也希望探究如何用较为简单的二元三进函数表达多元三进函数。我们的想法是，考察布尔分解得以成功的关键原因，然后将这种思想推广到三进函数。

> 命题：（布尔分解）
>
> 设$f(x_1,x_2,\dots,x_n)$是n元布尔函数，则$f$可分解为两个n-1元布尔函数的二元运算：
> $$
> f(x_1,\dots,x_n)=(f(x_1,\dots,x_{n-1},0)\and\bar x_n)\or(f(x_1,\dots,x_{n-1},1)\and x_n)
> $$

上述分解含义明显：右式的析取和取运算，起到了**按条件选择函数值的作用**，也即当$x_n=0$时选择左边，当$x_n=1$时选择右边。因此，倘若我们能使用三进逻辑运算实现这样的选择功能，就可以完成类似的分解。

为此，我们考虑下面的运算性质：

> 性质1：（单位元、零元）
>
> $x\and 1=x,x\and -1=-1$
>
> $x\or-1=x,x\or1=1$,
>
> 定义1：SELECTj（将j映射为1，其余数映射为-1）
>
> SELECTT$:=$PLUS$\circ$ABS$\circ$PLUS
>
> SELECT0$:=$PLUS$\circ$ABS
>
> SELECT1$:=$PLUS$\circ$ABS$\circ$PLUS$\circ$PLUS

下面我们用三个SELECT一元函数，结合二元三进函数，表达多元三进函数：

> 命题：（三进函数的逻辑分解）
>
> 设$f(x_1,x_2,\dots,x_n)$是n元三进函数，则$f$可分解为三个n-1元三进函数的二元运算：
> $$
> \begin{aligned}
> f(x_1,\dots,x_n)=(f(x_1,\dots,x_{n-1},-1)&\and \text{SELECTT}(x_n))\\
> \or(f(x_1,\dots,x_{n-1},0)&\and \text{SELECT0}(x_n))
> \\
> \or(f(x_1,\dots,x_{n-1},1)&\and \text{SELECT1}(x_n))
> \end{aligned}
> $$
> 证明比较简单，此处略去。

不难通过归纳得到，任意n元三进函数都可分解为二元三进函数运算

### 三进函数的多项式表示

> 目标：本节中，我们希望类比课堂上布尔函数的多项式表示，探究三进函数的多项式表示及其性质

我们先观察布尔函数的多项式表示，其中设布尔函数为$f:\set{-1,1}^n\rightarrow\set{-1,1}$；

则通过插值的方法，我们可以得到$f$的多项式表示：
$$
f^*=\sum_{a\in\set{-1,1}^n}f(a)(\prod_{i:a_i=-1}\frac{1-x_i}2)(\prod_{i:a_i=1}\frac{1+x_i}2){\tag1}
$$
注意观察(1)式，插值能够成功的关键在于，我们找到了两个表达式$(1-x)/2$与$(1+x)/2$，满足$x=\pm1$时，其中一式为0，另一式为1。因此想要推广到三进函数，我们也需要找到三个表达式$f_1,f_2,f_3$，当$x$任取一值时，其中两式为0，另外一式为1，比如$f_1(x)=1$,$f_2(x)=0$,$f_3(x)=0$.显然如果我们想构造多项式来实现这个要求，至少需要二次多项式。

首先我们考虑三元集合$T=\set{-1,0,1}$;

利用拉格朗日插值公式，我们很容易构造出满足上述条件的三个三次多项式：
$$
\begin{aligned}
f_1&=1*\frac{(x-0)(x-1)}{(-1-0)(-1-1)}=\frac{x(x-1)}{2}\\
f_2&=1*\frac{(x+1)(x-1)}{(0+1)(0-1)}=x^2-1\\
f_3&=1*\frac{(x+1)(x-0)}{(1+1)(1-0)}=\frac {x(x+1)}2
\end{aligned}
$$
因此可以类似(1)式，使用$f_1,f_2,f_3$进行插值：
$$
f^*=\sum_{a\in\set{-1,1}^n}f(a)(\prod_{i:a_i=-1}f_1(x_i)(\prod_{i:a_i=0}f_2(x_i))(\prod_{i:a_i=1}f_3(x_i))
$$
对于三进函数而言，得到的多项式插值并没有布尔函数的多项式插值那么好的性质，比如，不一定是齐次线性的多项式，但是我们可以说明每一个单项中的每个变量次数都不超过2，因为对于T中任意元素$x$，有$x^3-x=0$，因此所有高于二次项均可降低幂次。

### 三进函数的傅里叶分析

> 这一节中，我们通过重写三进函数的定义域，引入合适的内积，然后对三进函数的插值多项式进行傅里叶分析。

#### 布尔函数的傅里叶展开

首先我们简单列举一下布尔函数的傅里叶展开相关结论：

> 定义1：记$\chi_S(x)=\prod_{i\in S}x_i$，倘若我们在多重线性多项式上定义内积为$<f,g>=\mathbb{E}_x f(x)g(x)$，其中期望$\mathbb{E}$是关于所有$x\in \set{-1,1}^n$取的.则有$\set{\chi_S|S\sube [n]}$是一组标准正交基.
>
> 定理1：布尔函数$f:\set{-1,1}^n\rightarrow\set{-1,1}$可以唯一表示为多重线性多项式
> $$
> f(x)=\sum_{S\sube[n]}c_S\chi_S(x)\tag{*}
> $$
> 其中$c_S=<f,\chi_S>$，称(*)为$f(x)$的Fourrier展开.
>
> 定理2：（Parseval等式）
> $$
> \sum_{S\sube[n]}c_S^2=\mathbb{E}_xf^2(x)
> $$

#### 符号重写

为了在三进函数中也推广如上的傅里叶展开，我们首先需要找到一组标准正交基，而这要求我们定义三进函数插值多项式的内积。

正如上一节我们提到的，三进函数的多项式插值不再具有多重线性性质，这使得插值多项式有更多种类的单项式，这就为我们用基刻画三进函数插值多项式增加了难度。此外，对于集合$T=\set{-1,0,1}$即使我们选取所有变量次数不超过2的单项式作为一组基，不仅拥有不同变元数目的单项式模长不同，（例如$<x_1,x_1>=\mathbb Ex_1^2= 2/3$,$<x_1x_2,x_1x_2>=\mathbb Ex_1^2x_2^2=4/9$）而且更糟糕的是，它们之间没有正交性！（例如$<x_1^2,1>\neq0$）

上面问题的根源在于$T=\set{-1,0,1}$的对称性并没有$\set{\pm1}$那样好，因此，我们打算使用老方法——通过引入单位根来提供更强的对称性。

> 定义2：我们用$T'=\set{1,\omega,\omega^2}$作为符号集，代替之前的$T$，并且假设它们之间的一一对应如下，其中$\omega$是三次本原单位根：
> $$
> \begin{aligned}
> -1&\leftrightarrow\omega^2\\
> 0&\leftrightarrow 1\\
> 1&\leftrightarrow\omega
> \end{aligned}
> $$

我们容易发现，相较于$T,T'$具有更好的性质：

> 性质1（归一性）：$T'$中的元素满足方程$x^3-1=0$
>
> 性质2（对称性）：$\mathbb E_x[T']=0$，即$1+\omega+\omega^2=0$
>
> 性质3：$T'$中的元素满足方程$x^2=\bar x$

在接下来的探究中，这两个性质将会为我们引入内积起到重要作用。

#### 内积与标准正交基

我们像之前一样考虑n元三进函数的多项式插值，由性质1易见这样的多项式每个变元次数不超过2。以下记变元为$\set{x_i}_{i=1}^n$，$V$表示所有插值多项式的集合。

为了解决之前出现的基不正交的问题，我们观察布尔函数的傅里叶分析，发现一个关键因素。之所以二进制情况下，$<\chi_S,\chi_T>=0\Leftrightarrow S=T$，是因为除了常数1之外，只要某个变元出现了，那么由于$\set{\pm1}$具有加和的对称性，求期望之后一定为0.因此在三进制情况下，我们也希望，只要有变元出现了，那么对它求期望也为0.由于$x_i^3=1$，因此我们只需要对$x_i,x_i^2$讨论即可。由性质2和性质3，我们很容易得到$x_i,x_i^2$的期望为0.这就修正了重写符号之前，$x_i^2$不具有期望为0性质的弊端。

正如课堂上考虑布尔函数的傅里叶分析时，将函数值域还延伸至整个实数轴，我们此处也不妨考虑把值域扩展到复数域$\C$上。这样$V$可以视作复线性空间。因此我们可以按照酉空间的思路，研究$V$的傅里叶分解。

> 引入内积之前，我们需要考虑多项式的共轭，利用性质3，我们有：
>
> 定义3：（共轭多项式）
>
> 设$g(x)\in V$，定义$\overline{g(x)}:=\bar g(\bar x)=\bar g(x^2)$，其中$\bar x,x^2$都是对$x$的每个分量取的，$\bar g$表示将多项式$g$的每个系数取共轭得到的多项式。
>
> 定义4：（V内积的定义）
>
> 设$f,g\in V$,定义内积为$<f,g>:=\mathbb E_x[f(x)\overline{g(x)}]$，其中期望是关于所有$x\in T'^n$取的。
>
> 定义5：（V中的单项式）
>
> 考虑$[n]_2:=\set{1,1,2,2,\dots,n,n}$表示1~n每个元素出现两次的多重集，对于$[n]_2$的任意子集S，定义$\chi_S:=\prod_{i\in S}x_i$，其中$x_i$需要根据$i$在S中的重数决定出现次数，则$\set{\chi_S|S\sube[n]_2}$构成V的一组基。

在上面的定义下，我们容易得到如下性质：

> 性质1：如上定义的内积具有Hermite性质，即$<f,g>=\overline{<g,f>}$，而且显然具有(半)线性和正定性，因此在这样的内积下，V是一个酉空间。
>
> 性质2：$E:=\set{\chi_S|S\sube[n]_2}$是V的一组标准正交基。
>
> 证明：不难验证，E是一组标准基。下面仅说明其正交性。任取$S,T\sube[n]_2$，则$<\chi_S,\chi_T>=\mathbb{E}_x[\chi_S\overline{\chi_{T}}]$，利用$\mathbb E[x_i]=\mathbb E[x_i^2]=0$可见，$<\chi_S,\chi_T>\neq0\iff S,T$中每个元素重数相等$\iff S=T$，正交性即证。

有了这样一组标准正交基，我们可以由此得到V上的傅里叶展开如下。

#### 三进插值多项式的傅里叶展开

在前文的准备下，我们已经可以得到三进多项式的傅里叶展开：

> 定理1：任意函数$f:T'^n\to\C$可以唯一表示为$\set{\chi_S|S\sube[n]_2}$的线性组合:
> $$
> f(x)=\sum_{S\sube[n]_2}c_S\chi_S(x)
> $$
> 其中约定$\chi_{\varnothing}=1$，$c_S=<f,\chi_S>$称为$f$的傅里叶系数。
>
> 定理2：（Parseval等式）
>
> $\forall f:T'^n\to\C$有如下等式成立：
> $$
> \sum_{S\sube[n]_2}|c_S|^2=\mathbb E_x[f(x)\overline{f(x)}]
> $$
> 其中期望是对所有$x\in T'^n$取的。

上述定理的证明和二进制情况基本相同，本质上只使用了$\set{\chi_S|S\sube[n]_2}$是一组标准正交基，此处不再赘述。

*一开始错误地把Parseval等式推广为两边都取立方，但后来发现了反例并且联系到内积的意义才修正过来

> 推论1：对于三进函数$f:T'^n\to T'$的插值多项式，由于$f(x)\overline{f(x)}\equiv1$，我们得到$\sum_{S\sube[n]_2}|c_S|^2=1$.

不难发现，在p阶本原单位根的帮助下，上面的结论可以很容易推广到p进制的情形（其中p需要是素数，否则会有除1以外的非本原单位根影响正交性）

## 5.总结与展望

本文主要围绕三进制计算进行探究，首先从非二进制计算切入，表明它们实现的可能以及广阔应用前景。之后我们研究了三进制空间$T^n$的图论表示，拓广了符号图的概念，由此给出了三进制空间的符号图上一类具有有趣性质的邻接矩阵，并且提出了更高进制这类矩阵的存在性猜想。之后，以$T^n$为定义域，我们按照从简单到一般的顺序研究了定义在其上的三进函数。首先考察$T^n$上的代数与逻辑运算，给出了在这些运算下$T_n$的代数结构。之后对于一般的三进函数，我们从二元分解、多项式表示与傅里叶分析三个部分进行讨论，探讨了具体计算三进函数的可能性。

在探究与论证的过程中，我们使用的一些思想无疑是具有启发性的。例如，在三进空间和傅里叶分析的推广过程中，我们都运用了**对称性的思想**，通过引入本原单位根来构造对称性，帮助我们解决具体问题。此外，我们注重**对现象本质的分析**，例如在多元三进函数的分解中，分析了布尔函数之所以能够分解的关键因素；在傅里叶分析的推广过程中，我们抓住了问题的根本，也即正交性。

从“2”推广到“3”的很多方法具有**普适性**——我们可以通过完全相似的思路，将文中所述的结论向其它进制推广。事实上在探究过程中，受到的阻碍往往来自于，二进制符号集以及逻辑运算本身的简单与直观掩盖了它们各种良好性质的来源，例如在布尔函数傅里叶展开中，$\set{\pm1}$的取值掩藏了基的正交性来源于单位根，毕竟在预先不知道结论的探究过程中，很难直接从$\pm1$想到单位根。但是一旦我们将这些结论成功推广到了三进制，一般性方法与思想就水落石出了。

然而，我们的探究还留下了不少有待解决的问题。

首先是第三节提出的猜想，即是否存在以n维k进空间为底图的k-符号图，其邻接矩阵所有特征值集中分布在复平面以原点为圆心的某圆周的k个点上。经过一些几乎等价的转换，尽管我们证明了较弱一些的分块对角猜想，但对于原猜想还是无能为力。

其次是第四节中关于三进函数的表出问题。为了能够实际实现三进制计算，我们有必要像布尔函数那样，用某些简单的布尔函数表达出所有布尔函数。为了做到这一点，我们可以按照如下思路：

（1）研究特殊的一元/二元函数；

（2）用上面得到的少数几个一元/二元函数表示所有其它一元/二元函数；

（3）通过一元/二元函数表达出多元函数；

对于布尔函数，步骤(1)~(3)分别是通过逻辑运算（与或非异或）、枚举16种二元布尔函数以及布尔分解/热加尔金分解实现的，这就为二进制通用计算机的可行性奠定了基本的理论基础。然而，在三进制情况下，我们只完成了(1)和(3)，包括一元函数的表达、特殊二元函数的研究以及多元函数的分解。但是对于步骤(2)而言，由于二元三进函数有$3^9$个之多，我们难以用枚举法考察它们的生成元，因此有待进一步探究。

## 6.后记

准备这篇课程论文的过程，并非一帆风顺。从确定选题并且开工之日算起，前前后后花了三周才分节写好了几篇草稿，之后还有一些后续的整合、修改与排版的零碎工作。其中，耗时最多的部分自然是各个命题、猜想的探索过程。在最开始动笔时，我其实并没有想好自己要研究什么命题，而是在参阅网络资料以及复习课程笔记时，写写算算，有时灵感突现，在纸上记下一些想法，然后就开始探究。

第一周无疑是最惨烈的，在有了第三节所述的猜想1后，我连续几天在纸上计算各种矩阵的特征多项式、矩阵的k次方，几天就耗费了半本草稿纸。期间也经历了几次心情的起伏，例如发现三阶的$\hat B_n$后感到欣喜若狂，然后仿照$\hat B_n$的结构提出一种构造方式后，算了好久才发现$n=4$就不成立，内心十分沮丧。然后有一天我好不容易用环同构方法证明了猜想3，感到非常满足。但之前一直以为猜想3与猜想2等价，结果在具体写证明时才发现原来分块对角和数量矩阵完全不是一回事，感到十分挫败，一度认为前功尽弃，想放弃这部分内容。由于自己倔强的性格，不愿意放弃之前的猜想，就一直把课余时间花在算矩阵上面，后来还是因为积攒的作业太多了没办法了才决定放弃证明这个猜想。

在经历了第一周的起伏后，接下来的探究过程就平静了许多。在课堂上讲了傅里叶分解后，我自然而然地想要将这个也纳入自己论文的范围，思考过程也不是一帆风顺的，瓶颈在于如何构造符号集$T'$，使得任意两个不同单项式之间内积为0。最后还是在某天晚上步行回宿舍时，吹着夏夜的晚风，灵感突现，才想到单位根和进行内积时取共轭的想法。

在有了这些猜想，思路和命题后，具体写下来也是一个冗长的工作。不过，在此过程中，我第一次亲身经历了发现问题、提出猜想，并且尝试用学过的知识解决它们的完整过程，尽管其中磕磕绊绊，而且也没能证明所有猜想，回望之前的探究历程，我还是很有成就感。

记得老师在课堂上曾经讲过，选择这些材料作为课堂内容的一个目的是，让我们明白仅仅使用已经学过的那些分析、代数等知识，就可以取研究感兴趣的问题。在写课程论文的过程中，我才真正体会了这一点。比如大量矩阵运算，受域扩张理论的启发给出的猜想3的证明，受到格的启发导出三值逻辑运算等等，这些都是对之前课程所学知识的应用。记得之前和室友聊天，谈到“感觉之前数分高代学完就忘了，不知道学了有什么用”的问题，现在看来，这些学过的知识并非没有用处，而是放在大脑的某个角落，等待合适的时机，在解决具体问题时突然迸发灵感。

在本周某节课课间，我偶然间听到邻座同学讨论课程论文，说“那些卷王肯定又要卷几万字”，说者无意听者有心，我回去就打开了自己写的草稿，算算字数，加起来居然也接近两万字，随即羞愧万分。但其实扪心自问，我从来不是什么"卷王"，在之前的探究过程中也没考虑字数的问题。只不过是因为对这个题目感兴趣，而且写着写着就发现，为了说清楚自己思考的过程，就自然需要这些篇幅。当然，考虑到篇幅过长时的阅读体验问题，我几次调整了文章布局，修改了一些晦涩的用语和符号，还在某些小节前增加了概括性的说明文字，以便读者快速把握接下来要讨论的问题。此外，我把一些与主线关联不紧的繁杂证明放在了附录中，比如用环同构证明的猜想3，供老师闲暇时参考指正。

第一次写数学类论文，限于个人能力，如有不足，敬请指教。

PS：文中参考他人的内容均作了相关标记或者链接，其余内容都是自己探究推导得出的结论。

